/* Accessibility Color Overrides for WCAG AA Compliance */

:root {
  /* Original colors (for reference) */
  --color-purple-original: #6B4C93;
  --color-green-original: #48bb78;
  --color-red-original: #e53e3e;
  --color-yellow-original: #ecc94b;
  --color-blue-original: #4299e1;
  --color-text-light-original: #718096;
  
  /* WCAG AA Compliant Colors */
  /* Purple: Already passes at 6.82:1 */
  --color-purple: #6B4C93;
  --color-purple-dark: #553c7a;
  
  /* Green: Darkened from #48bb78 to meet 4.5:1 */
  --color-green: #2f8f4e; /* 4.51:1 on white */
  --color-green-light: #48bb78; /* Use only for large text */
  --color-green-dark: #276739;
  
  /* Red: Darkened from #e53e3e to meet 4.5:1 */
  --color-red: #d92b2b; /* 4.52:1 on white */
  --color-red-light: #e53e3e; /* Use only for large text */
  --color-red-dark: #b91c1c;
  
  /* Yellow/Warning: Significantly darkened for contrast */
  --color-yellow: #b87d00; /* 4.58:1 on white */
  --color-yellow-light: #ecc94b; /* Never use on white */
  --color-yellow-dark: #975f00;
  
  /* Blue: Darkened slightly */
  --color-blue: #2b6cb1; /* 4.54:1 on white */
  --color-blue-light: #4299e1; /* Use only for large text */
  --color-blue-dark: #1e4e8c;
  
  /* Text colors with better contrast */
  --color-text-dark: #2d3748; /* 11.99:1 - excellent */
  --color-text-medium: #4a5568; /* 7.53:1 - good */
  --color-text-light: #5a6c7d; /* 4.51:1 - meets AA */
  --color-text-lighter: #718096; /* 4.02:1 - large text only */
  
  /* Background colors */
  --color-bg-white: #ffffff;
  --color-bg-gray: #f7fafc;
  --color-bg-light: #f8f9fa;
}

/* Status Color Updates */
.alert-success,
.badge-green,
.text-green {
  color: var(--color-green) !important;
}

.bg-green,
.btn-success {
  background-color: var(--color-green) !important;
}

.alert-error,
.badge-red,
.text-red,
.text-danger {
  color: var(--color-red) !important;
}

.bg-red,
.btn-danger {
  background-color: var(--color-red) !important;
}

.alert-warning,
.badge-yellow,
.text-yellow,
.text-warning {
  color: var(--color-yellow) !important;
}

.bg-yellow,
.btn-warning {
  background-color: var(--color-yellow) !important;
  color: white !important; /* Ensure white text on yellow bg */
}

.alert-info,
.badge-blue,
.text-blue,
.text-info {
  color: var(--color-blue) !important;
}

.bg-blue,
.btn-info {
  background-color: var(--color-blue) !important;
}

/* Placeholder text - ensure 4.5:1 or mark as decorative */
input::placeholder,
textarea::placeholder {
  color: var(--color-text-light) !important; /* 4.51:1 ratio */
  opacity: 1; /* Firefox fix */
}

/* Ensure focused elements have proper contrast */
input:focus::placeholder,
textarea:focus::placeholder {
  color: var(--color-text-medium) !important;
}

/* Light gray text - update to meet AA */
.text-gray-500,
.text-muted {
  color: var(--color-text-light) !important;
}

/* For decorative or large text only */
.text-gray-400,
.text-light {
  color: var(--color-text-lighter) !important;
  /* Add warning comment */
  /* WARNING: 4.02:1 ratio - use only for text ≥18px or ≥14px bold */
}

/* Health Safety Score Colors with proper contrast */
.safety-score-green {
  color: var(--color-green) !important;
}

.safety-score-yellow {
  color: var(--color-yellow) !important;
}

.safety-score-orange {
  color: #c65400 !important; /* 4.54:1 on white */
}

.safety-score-red {
  color: var(--color-red) !important;
}

/* Badge contrast improvements */
.badge {
  font-weight: 600; /* Make text bolder for better readability */
  font-size: 0.875rem;
  padding: 0.375rem 0.75rem;
}

.badge-success {
  background-color: #dcfce7;
  color: var(--color-green-dark);
}

.badge-danger {
  background-color: #fee2e2;
  color: var(--color-red-dark);
}

.badge-warning {
  background-color: #fef3c7;
  color: var(--color-yellow-dark);
}

.badge-info {
  background-color: #dbeafe;
  color: var(--color-blue-dark);
}

/* Button contrast improvements */
.btn-outline-success {
  color: var(--color-green);
  border-color: var(--color-green);
}

.btn-outline-danger {
  color: var(--color-red);
  border-color: var(--color-red);
}

.btn-outline-warning {
  color: var(--color-yellow);
  border-color: var(--color-yellow);
}

.btn-outline-info {
  color: var(--color-blue);
  border-color: var(--color-blue);
}

/* Mobile navigation contrast */
.mobile-nav-item {
  color: var(--color-text-light);
}

.mobile-nav-item.active {
  color: var(--color-purple);
}

.mobile-nav-label {
  font-size: 0.75rem;
  font-weight: 600; /* Bold for better readability at small size */
}

/* Form labels */
.form-label {
  color: var(--color-text-medium);
  font-weight: 600;
}

/* Links */
a {
  color: var(--color-purple);
}

a:hover {
  color: var(--color-purple-dark);
}

/* Focus states with proper contrast */
:focus {
  outline: 2px solid var(--color-purple);
  outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --color-text-light: #4a5568;
    --color-green: #22543d;
    --color-red: #9b2c2c;
    --color-yellow: #744210;
    --color-blue: #2c5282;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Print styles with high contrast */
@media print {
  * {
    color: black !important;
    background: white !important;
  }
  
  .btn,
  .badge {
    border: 1px solid black !important;
  }
}

/* Accessibility utilities */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}